C Preprocessor #define SEM_FAILED NULL This tells the preprocessor to replace every instance of  SEM_FAILED  below this point with the literal string  NULL  before the code is sent to the compiler. #define  items can also take parameters as in this Windows-speciﬁc version of  SEM_CREATE : #define SEM_CREATE(name, val, max) CreateSemaphore(NULL, val, max, NULL) In this case and preprocessor will expect  SEM_CREATE()  to look like a function call and have three parameters. This is generally referred to as a  macro . It will directly replace the text of the three parameters into the output code, For example, on line 459, the  SEM_CREATE  macro is used like this: handle = SEM_CREATE(name, value, maxvalue); When compiling for Windows, this macro will be expanded so that line is: handle = CreateSemaphore(NULL, value, max, NULL); We’ll see below how this macro is deﬁned diﬀerently on Windows and other operating systems. #undef This directive erases any previous preprocessor deﬁnition from #define . This makes it possible to have a  #define  in eﬀect for only part of a ﬁle. #if The preprocessor also allows conditional statements, allowing you to either include or exclude sections of text based on certain conditions. Conditional statements are closed with the  #endif  directive and also can make use of  #elif  and  #else  for ﬁne-tuned adjustments. 380