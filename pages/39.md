
![page_39_0](images/page_39_0.png)
 ### The Tower of Asyncio
 As you saw in the preceding section, there are only a handful of commands that you need to know to be able to use  `asyncio`  as an end-user developer. Unfortunately, the documentation for  `asyncio`  presents a huge number of APIs, and it does so in a very “flat” format that makes it hard to tell which things are intended for common use and which are facilities being provided to framework designers. When framework designers look at the same documentation, they look for  *hook* *points*  to which they can connect up their new frameworks or third-party libraries. In this section, we’ll look at  `asyncio`  through the eyes of a framework designer to get a sense of how they might approach building a new async-compatible library. Hopefully, this will help to further delineate the features that you need to care about in your own work. From this perspective, it is much more useful to think about the  `asyncio`  module as being arranged in a hierarchy (rather than a flat list), in which each level is built on top of the specification of the previous level. It isn’t quite as neat as that, unfortunately, and I’ve taken liberties with the arrangement in  Table 3-1 , but hopefully this will give you an alternative view of the  `asyncio`  API. Table 3-1 , and the names and numbering of the “tiers” given here, is entirely my own invention, intended to add a little structure to help explain the  `asyncio`  API. The expert reader might arrange things in a different order, and that’s OK! *Table 3-1. Features of asyncio arranged in a hierarchy; for end-user developers, the most* *important tiers are highlighted in bold* **Level** **Concept** **Implementation** **Tier 9** **Network: streams** `StreamReader` ,  `StreamWriter` ,  `asyncio.open_connection()` , `asyncio.start_server()` Tier 8 Network: TCP & UDP `Protocol` Tier 7 Network: transports `BaseTransport` **Tier 6** **Tools** `asyncio.Queue` **Tier 5** **Subprocesses & threads** `run_in_executor()` ,  `asyncio.subprocess` Tier 4 Tasks `asyncio.Task` ,  `asyncio.create_task()` Tier 3 Futures `asyncio.Future` **Tier 2** **Event loop** `asyncio.run()` ,  `BaseEventLoop` **Tier 1 (Base)** **Coroutines** `async def` ,  `async with` ,  `async for` ,  `await` **28 ** **| ** **Chapter 3: Asyncio Walk-Through**