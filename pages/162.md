Robots and Cutlery case study,  14 - 19 cutlery cutlery management using asyncio, 135 run function,  23 cancelling, gathering, and waiting for pending tasks,  25 closing loops,  25 RuntimeError,  42 run_complete function,  66 run_in_executor function,  50 returning future and not creating a task,  69 run_until_complete function,  24 ,  41 operating on a future during shutdown, exceptions and,  61 ###### S
 Sanic web framework API server with,  120 code for aelapsed and aprofiler,  143 Selivanov, Yury,  22 ,  110 set comprehensions, async,  55 - 57 set_event_loop function,  38 set_result function calling on Future instances,  40 calling on Task instance,  41 shutdown, handling,  25 ,  57 - 73 asyncio.run function,  57 destroyer of pending tasks,  57 difficulty of graceful shutdown in network programming,  63 return_exceptions=True argument in gather,  61 Telnet-based echo server example,  59 waiting for the executor,  68 SIGINT signal,  63 using KeyboardInterrupt as handler,  64 signals,  63 complexity around signal handling,  64 handling both SIGINT and SIGTERM, stopping loop only once,  66 handling when using asyncio.run,  67 using KeyboardInterrupt as handler for SIGINT,  64 SIGTERM signal,  63 handling as shutdown signal,  65 handling both SIGINT and, stopping loop only once,  66 sleep blocking vs. non-blocking sleep time,  26 time.sleep and asyncio.sleep functions,  68 sleep function,  23 Smallshire, Robert,  126 Smoothie Charts library,  108 ,  138 sockets asyncio supporting thousands of simultaneous connections,  6 communication, handling with streams API, 30 multiple sockets case study in ZeroMQ, 99 - 102 smart sockets in ZeroMQ,  98 “Socket Programming HOWTO”,  126 special methods,  50 Splash (JavaScript rendering service),  94 obtaining and running Splash container,  95 SQLAlchemy database ORM library,  30 ,  126 startup, handling,  57 Telnet-based echo server example,  58 StopAsyncIteration,  53 StopIteration exception,  33 ,  51 streams API,  29 ,  76 - 88 handling socket communication over networks,  30 improving the message queue case study, 84 - 88 message queue case study,  76 - 84 SUB sockets,  99 submit method, ThreadPoolExecutor class,  10 subprocesses, converting pool of threads to,  11 subscribers,  76 suppress context manager,  104 ###### T
 tasks async, creating the modern way,  39 cancellation with task.cancel function,  35 collecting and cancelling in asyncio.run,  57 creating in a cancellation handler,  60 creating inside coroutine function and not awaiting,  38 creating using asyncio.ensure_future,  39 executor jobs taking longer than pending Task instances in shutdown,  68 futures and,  39 - 46 calling set_result on Task instance,  41 creating a task or ensuring a future,  42 Task vs. Future class,  29 ,  39 gathered, adding executor future to,  70 **Index ** **| ** **151**