support for  `async def`  functions, you’re going to find that using such blocking libraries is unavoidable. For this,  `asyncio`  provides an API that is very similar to the API in the  `concur` `rent.futures`  package. This package provides a  `ThreadPoolExecutor`  and a  `Proces` `sPoolExecutor` . The default is thread-based, but either thread-based or pool-based executors can be used. I omitted executor considerations from the previous example because they would have obscured the description of how the fundamental parts fit together. Now that those have been covered, we can look at the executor directly. There are a couple of quirks to be aware of. Let’s have a look at the code sample in Example 3-3 . *Example 3-3. * *The* * basic executor interface* `# quickstart_exe.py` `import` ` ` `time` `import` ` ` `asyncio` `async` ` ` `def` ` ` `main` `():` `    ` `print` `(` `f` `'{time.ctime()} Hello!'` `)` `    ` `await` ` ` `asyncio` `.` `sleep` `(` `1.0` `)` `    ` `print` `(` `f` `'{time.ctime()} Goodbye!'` `)` `def` ` ` `blocking` `():` `  ` `    ` `time` `.` `sleep` `(` `0.5` `)` `  ` `    ` `print` `(` `f` `"{time.ctime()} Hello from a thread!"` `)` `loop` ` ` `=` ` ` `asyncio` `.` `get_event_loop` `()` `task` ` ` `=` ` ` `loop` `.` `create_task` `(` `main` `())` `loop` `.` `run_in_executor` `(` `None` `,` ` ` `blocking` `)` `  ` `loop` `.` `run_until_complete` `(` `task` `)` `pending` ` ` `=` ` ` `asyncio` `.` `all_tasks` `(` `loop` `=` `loop` `)` `  ` `for` ` ` `task` ` ` `in` ` ` `pending` `:` `    ` `task` `.` `cancel` `()` `group` ` ` `=` ` ` `asyncio` `.` `gather` `(` `*` `pending` `,` ` ` `return_exceptions` `=` `True` `)` `loop` `.` `run_until_complete` `(` `group` `)` `loop` `.` `close` `()` `blocking()`  calls the traditional  `time.sleep()`  internally, which  *would have* blocked the main thread and prevented your event loop from running. This means that you must not make this function a coroutine—indeed, you cannot even call this function from  *anywhere*  in the main thread, which is where the `asyncio`  loop is running. We solve this problem by running this function in an *executor* . **26 ** **| ** **Chapter 3: Asyncio Walk-Through**