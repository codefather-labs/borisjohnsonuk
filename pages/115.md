Example: Adding an Almost Equal Comparison Operator comp_op: '<'|'>'|'=='|'>='|'<='|'<>'|'!='|'~='|'in'|'not' 'in'|'is'|'is' 'not' To update the grammar and tokens in C, you now have to regenerate the headers: On macOS/Linux: $ make regen-all On Windows, within the  PCBuild  directory: > build.bat --regen The tokenizer will be automatically updated by these steps. For example, open the  Parser/token.c  source and see how a case in the  PyToken_- TwoChars()  function has changed: case  '~' : switch  (c2) { case  '=' :  return  ALMOSTEQUAL; } break ; } If you recompile CPython at this stage and open a REPL, you can see that the tokenizer can successfully recognise the token, but the AST does not know how to handle it: $ . / python >>>  1  ~=  2 SystemError : invalid comp_op:  ~= This exception is raised by  ast_for_comp_op()  inside  Python ast.c  because it does not recognise  ALMOSTEQUAL  as a valid operator for a comparison statement. Compare  is an expression type deÔ¨Åned in  Parser Python.asdl , it has properties for the left expression, a list of operators,  ops , and a list of expressions to compare to,  comparators : 115