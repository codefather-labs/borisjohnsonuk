Building a Module From Input 1. If the ﬁle path is a  .pyc  ﬁle, it will call  run_pyc_file() . 2. If the ﬁle path is a script ﬁle ( .py ) it will run  PyRun_FileExFlags() . 3. If the ﬁle path is  stdin  because the user ran  command | python , then treat  stdin  as a ﬁlehandle and run  PyRun_FileExFlags() . For  stdin  and basic script ﬁles, CPython will pass the ﬁlehandle to PyRun_FileExFlags()  located in the  Python pythonrun.c  ﬁle. The purpose of  PyRun_FileExFlags()  is similar to  PyRun_SimpleStringFlags() . CPython will load the ﬁlehandle into  PyParser_ASTFromFileObject() . Identical to  PyRun_SimpleStringFlags() , once  PyRun_FileExFlags()  has created a Python module from the ﬁle, it sent it to  run_mod()  to be executed. 
##Input From Compiled Bytecode 

 If the user runs  python  with a path to a  .pyc  ﬁle, then instead of loading the ﬁle as a plain text ﬁle and parsing it, CPython will assume that the .pyc  ﬁle contains a code object written to disk. In  PyRun_SimpleFileExFlags()  there is a clause for the user providing a ﬁle path to a  .pyc  ﬁle. The  run_pyc_file()  function inside  Python pythonrun.c  marshals the code object from the  .pyc  ﬁle by using a ﬁlehandle. The code object data structure on the disk is the CPython compiler’s way to cache compiled code so that it doesn’t need to parse it every time the script is called. Note Marshaling  is a term for copying the contents of a ﬁle into memory and converting them to a speciﬁc data structure. Once the code object has been marshaled to memory, it is sent to  run_- eval_code_obj() , which calls  Python ceval.c  to execute the code. 92