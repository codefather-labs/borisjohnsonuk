What is especially interesting about this project is this:  *any*  of the running instances in any part of this stack can be restarted, and no reconnect-handling code is necessary. The ØMQ sockets, along with the  `EventSource()`  JavaScript instance in the browser, magically reconnect and pick up where they left off. In the next section, we turn our attention to databases and to how  `asyncio`  might be used to design a system for cache invalidation. ### asyncpg and Sanic
 The  `asyncpg`  library  provides client access to the PostgreSQL database, but differentiates itself from other  `asyncio` -compatible Postgres client libraries with its emphasis on speed.  `asyncpg`  is authored by  Yury Selivanov , one of the core  `asyncio`  Python developers, who is also the author of the uvloop project. It has no third-party dependencies, although  Cython  is required if you’re installing from source. `asyncpg`  achieves its speed by working directly against the PostgreSQL binary protocol, and other advantages to this low-level approach include support for  prepared statements  and  scrollable cursors . We’ll be looking at a case study using  `asyncpg`  for cache invalidation, but before that it will be useful to get a basic understanding of the API  `asyncpg`  provides. For all of the code in this section, we’ll need a running instance of PostgreSQL. This is most easily done with Docker, using the following command: `$ ` `docker run -d --rm -p 55432:5432 postgres` Note that I’ve exposed port 55432 rather than the default, 5432, just in case you already have a running instance of the database on the default port.  Example 4-21 briefly demonstrates how to use  `asyncpg`  to talk to PostgreSQL. *Example 4-21. Basic demo of asyncpg* `# asyncpg-basic.py` `import` ` ` `asyncio` `import` ` ` `asyncpg` `import` ` ` `datetime` `from` ` ` `util` ` ` `import` ` ` `Database` `  ` `async` ` ` `def` ` ` `main` `():` `    ` `async` ` ` `with` ` ` `Database` `(` `'test'` `,` ` ` `owner` `=` `True` `)` ` ` `as` ` ` `conn` `:` `  ` `        ` `await` ` ` `demo` `(` `conn` `)` `async` ` ` `def` ` ` `demo` `(` `conn` `:` ` ` `asyncpg` `.` `Connection` `):` `    ` `await` ` ` `conn` `.` `execute` `(` `'''` `        CREATE TABLE users(` `            id serial PRIMARY KEY,` `            name text,` **110 ** **| ** **Chapter 4: 20 Asyncio Libraries You Aren’t Using (But…Oh, Never Mind)**