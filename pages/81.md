*Example 3-37. Option A: wrap the executor call inside a coroutine* `# quickstart.py` `import` ` ` `time` `import` ` ` `asyncio` `from` ` ` `concurrent.futures` ` ` `import` ` ` `ThreadPoolExecutor` ` ` `as` ` ` `Executor` `async` ` ` `def` ` ` `main` `():` `    ` `loop` ` ` `=` ` ` `asyncio` `.` `get_running_loop` `()` `    ` `future` ` ` `=` ` ` `loop` `.` `run_in_executor` `(` `None` `,` ` ` `blocking` `)` `  ` `    ` `try` `:` `        ` `print` `(` `f` `'{time.ctime()} Hello!'` `)` `        ` `await` ` ` `asyncio` `.` `sleep` `(` `1.0` `)` `        ` `print` `(` `f` `'{time.ctime()} Goodbye!'` `)` `    ` `finally` `:` `        ` `await` ` ` `future` `  ` `def` ` ` `blocking` `():` `    ` `time` `.` `sleep` `(` `2.0` `)` `    ` `print` `(` `f` `"{time.ctime()} Hello from a thread!"` `)` `try` `:` `    ` `asyncio` `.` `run` `(` `main` `())` `except` ` ` `KeyboardInterrupt` `:` `    ` `print` `(` `'Bye!'` `)` The idea aims at fixing the shortcoming that  `run_in_executor()`  returns only a `Future`  instance and not a task. We canâ€™t capture the job in  `all_tasks()`  (used within  `asyncio.run()` ), but we  *can*  use  `await`  on the future. The first part of the plan is to create a future inside the  `main()`  function. We can use the  `try/finally`  structure to ensure that we wait for the future to be finished before the  `main()`  function returns. The code works, but it places a heavy limitation on lifetime management of the executor function: it implies that you must use a  `try/finally`  within every single scope where an executor job is created. We would prefer to spawn executor jobs in the same way that we create async tasks, and still have the shutdown handling inside  `asyn` `cio.run()`  perform a graceful exit. The next idea, shown in  Example 3-38 , is a little more cunning. Since our problem is that an executor creates a future instead of a task, and the shutdown handling inside `asyncio.run()`  deals with tasks, our next plan is to wrap the future (produced by the executor) inside a new task object. **70 ** **| ** **Chapter 3: Asyncio Walk-Through**