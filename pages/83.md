Conﬁguration State 
#Con�guration State 

 Before any Python code is executed, the CPython runtime ﬁrst establishes the conﬁguration of the runtime and any user-provided options. The conﬁguration of the runtime is in three data structures, deﬁned in  PEP587 : 1.  PyPreConfig , used for pre-initialization conﬁguration 2.  PyConfig , used for the runtime conﬁguration 3. The compiled conﬁguration of the CPython interpreter Both data structures are deﬁned in  Include cpython initconfig.h . 
##Pre-Initialization Con�guration 

 The pre-initialization conﬁguration is separate to the runtime conﬁguration as it’s properties relate to the Operating System or user environment. The three primary functions of the  PyPreConfig  are: • Setting the Python memory allocator • Conﬁguring the LC_CTYPE locale • Setting the UTF-8 mode  (PEP540) The  PyPreConfig  type contains the following ﬁelds; all of type  int : Name Purpose allocator Name of the memory allocator (e.g.  PYMEM_ALLOCATOR_MALLOC ). Run  ./configure --help  for more information on the memory allocator configure_- locale Set the LC_CTYPE locale to the user preferred locale. If equal to 0, set  coerce_c_locale  and  coerce_c_locale_warn  to 0 coerce_c_- locale If equal to 2, coerce the C locale; if equal to 1, read the LC_CTYPE locale to decide if it should be coerced coerce_c_- locale_warn If non-zero, emit a warning if the C locale is coerced dev_mode See PyConﬁg.dev_mode 83